

// This test loads in the sampleData as a Lesson object
// and then compares it to the expected result
//

import 'dart:convert';

import 'package:cim_app/lessonStructure.dart';
import 'package:flutter_test/flutter_test.dart';


dynamic sampleData =     {
      "lessonShortTitle": "I am sustained by the Love of God",
      "lessonNumber": "Lesson 50",
      "lessonTitle": "I am sustained by the Love of God",
      "lessonText": "<div class=\"acim-text lesson-50\"> <div data-paragraph-id=\"452#1\"><p class=\"p-normal\"><span class=\"pnr\">1.</span> <span data-sentence-id=\"452#1:1\"><span class=\"snr noprint\">1</span>Here is the answer to every problem that will confront you, today and tomorrow and throughout time.</span> <span data-sentence-id=\"452#1:2\"><span class=\"snr\">2</span>In this world, you believe you are sustained by everything but God.</span> <span data-sentence-id=\"452#1:3\"><span class=\"snr\">3</span>Your faith is placed in the most trivial and insane symbols; pills, money, “protective” clothing, influence, prestige, being liked, knowing the “right” people, and an endless list of forms of nothingness that you endow with magical powers.</span></p></div> <div data-paragraph-id=\"452#2\"><p class=\"p-normal\"><span class=\"pnr\">2.</span> <span data-sentence-id=\"452#2:1\"><span class=\"snr noprint\">1</span>All these things are your replacements for the Love of God.</span> <span data-sentence-id=\"452#2:2\"><span class=\"snr\">2</span>All these things are cherished to ensure a body identification.</span> <span data-sentence-id=\"452#2:3\"><span class=\"snr\">3</span>They are songs of praise to the ego.</span> <span data-sentence-id=\"452#2:4\"><span class=\"snr\">4</span>Do not put your faith in the worthless.</span> <span data-sentence-id=\"452#2:5\"><span class=\"snr\">5</span>It will not sustain you.</span></p></div> <div data-paragraph-id=\"452#3\"><p class=\"p-normal\"><span class=\"pnr\">3.</span> <span data-sentence-id=\"452#3:1\"><span class=\"snr noprint\">1</span>Only the Love of God will protect you in all circumstances.</span> <span data-sentence-id=\"452#3:2\"><span class=\"snr\">2</span>It will lift you out of every trial, and raise you high above all the perceived dangers of this world into a climate of perfect peace and safety.</span> <span data-sentence-id=\"452#3:3\"><span class=\"snr\">3</span>It will transport you into a state of mind that nothing can threaten, nothing can disturb, and where nothing can intrude upon the eternal calm of the Son of God.</span></p></div> <div data-paragraph-id=\"452#4\"><p class=\"p-normal\"><span class=\"pnr\">4.</span> <span data-sentence-id=\"452#4:1\"><span class=\"snr noprint\">1</span>Put not your faith in illusions.</span> <span data-sentence-id=\"452#4:2\"><span class=\"snr\">2</span>They will fail you.</span> <span data-sentence-id=\"452#4:3\"><span class=\"snr\">3</span>Put all your faith in the Love of God within you; eternal, changeless and forever unfailing.</span> <span data-sentence-id=\"452#4:4\"><span class=\"snr\">4</span>This is the answer to whatever confronts you today.</span> <span data-sentence-id=\"452#4:5\"><span class=\"snr\">5</span>Through the Love of God within you, you can resolve all seeming difficulties without effort and in sure confidence.</span> <span data-sentence-id=\"452#4:6\"><span class=\"snr\">6</span>Tell yourself this often today.</span> <span data-sentence-id=\"452#4:7\"><span class=\"snr\">7</span>It is a declaration of release from the belief in idols.</span> <span data-sentence-id=\"452#4:8\"><span class=\"snr\">8</span>It is your acknowledgment of the truth about yourself.</span></p></div> <div data-paragraph-id=\"452#5\"><p class=\"p-normal\"><span class=\"pnr\">5.</span> <span data-sentence-id=\"452#5:1\"><span class=\"snr noprint\">1</span>For ten minutes, twice today, morning and evening, let the idea for today sink deep into your consciousness.</span> <span data-sentence-id=\"452#5:2\"><span class=\"snr\">2</span>Repeat it, think about it, let related thoughts come to help you recognize its truth, and allow peace to flow over you like a blanket of protection and surety.</span> <span data-sentence-id=\"452#5:3\"><span class=\"snr\">3</span>Let no idle and foolish thoughts enter to disturb the holy mind of the Son of God.</span> <span data-sentence-id=\"452#5:4\"><span class=\"snr\">4</span>Such is the Kingdom of Heaven.</span> <span data-sentence-id=\"452#5:5\"><span class=\"snr\">5</span>Such is the resting place where your Father has placed you forever.</span></p></div> </div>",
      "fullTitle": "I am sustained by the Love of God.",
      "audio": "https://acim.org/audio/web-edition/bb7c705bfcbf049032b0bd2fb010f5e2.mp4",
      "link": "https://acim.org/acim/lesson-50/i-am-sustained-by-the-love-of-god/en/s/452?wid=toc"
    };

void main() {
  test('Load sampleData 1', () {
    final l = Lesson.fromJson((sampleData));
    expect(l.lessonNumber, 'Lesson 50');
    expect(l.lessonShortTitle, 'I am sustained by the Love of God');
    expect(l.lessonTitle, 'I am sustained by the Love of God');
    expect(l.lessonText, Lesson.sanatise("<div class=\"acim-text lesson-50\"> <div data-paragraph-id=\"452#1\"><p class=\"p-normal\"><span class=\"pnr\">1.</span> <span data-sentence-id=\"452#1:1\"><span class=\"snr noprint\">1</span>Here is the answer to every problem that will confront you, today and tomorrow and throughout time.</span> <span data-sentence-id=\"452#1:2\"><span class=\"snr\">2</span>In this world, you believe you are sustained by everything but God.</span> <span data-sentence-id=\"452#1:3\"><span class=\"snr\">3</span>Your faith is placed in the most trivial and insane symbols; pills, money, “protective” clothing, influence, prestige, being liked, knowing the “right” people, and an endless list of forms of nothingness that you endow with magical powers.</span></p></div> <div data-paragraph-id=\"452#2\"><p class=\"p-normal\"><span class=\"pnr\">2.</span> <span data-sentence-id=\"452#2:1\"><span class=\"snr noprint\">1</span>All these things are your replacements for the Love of God.</span> <span data-sentence-id=\"452#2:2\"><span class=\"snr\">2</span>All these things are cherished to ensure a body identification.</span> <span data-sentence-id=\"452#2:3\"><span class=\"snr\">3</span>They are songs of praise to the ego.</span> <span data-sentence-id=\"452#2:4\"><span class=\"snr\">4</span>Do not put your faith in the worthless.</span> <span data-sentence-id=\"452#2:5\"><span class=\"snr\">5</span>It will not sustain you.</span></p></div> <div data-paragraph-id=\"452#3\"><p class=\"p-normal\"><span class=\"pnr\">3.</span> <span data-sentence-id=\"452#3:1\"><span class=\"snr noprint\">1</span>Only the Love of God will protect you in all circumstances.</span> <span data-sentence-id=\"452#3:2\"><span class=\"snr\">2</span>It will lift you out of every trial, and raise you high above all the perceived dangers of this world into a climate of perfect peace and safety.</span> <span data-sentence-id=\"452#3:3\"><span class=\"snr\">3</span>It will transport you into a state of mind that nothing can threaten, nothing can disturb, and where nothing can intrude upon the eternal calm of the Son of God.</span></p></div> <div data-paragraph-id=\"452#4\"><p class=\"p-normal\"><span class=\"pnr\">4.</span> <span data-sentence-id=\"452#4:1\"><span class=\"snr noprint\">1</span>Put not your faith in illusions.</span> <span data-sentence-id=\"452#4:2\"><span class=\"snr\">2</span>They will fail you.</span> <span data-sentence-id=\"452#4:3\"><span class=\"snr\">3</span>Put all your faith in the Love of God within you; eternal, changeless and forever unfailing.</span> <span data-sentence-id=\"452#4:4\"><span class=\"snr\">4</span>This is the answer to whatever confronts you today.</span> <span data-sentence-id=\"452#4:5\"><span class=\"snr\">5</span>Through the Love of God within you, you can resolve all seeming difficulties without effort and in sure confidence.</span> <span data-sentence-id=\"452#4:6\"><span class=\"snr\">6</span>Tell yourself this often today.</span> <span data-sentence-id=\"452#4:7\"><span class=\"snr\">7</span>It is a declaration of release from the belief in idols.</span> <span data-sentence-id=\"452#4:8\"><span class=\"snr\">8</span>It is your acknowledgment of the truth about yourself.</span></p></div> <div data-paragraph-id=\"452#5\"><p class=\"p-normal\"><span class=\"pnr\">5.</span> <span data-sentence-id=\"452#5:1\"><span class=\"snr noprint\">1</span>For ten minutes, twice today, morning and evening, let the idea for today sink deep into your consciousness.</span> <span data-sentence-id=\"452#5:2\"><span class=\"snr\">2</span>Repeat it, think about it, let related thoughts come to help you recognize its truth, and allow peace to flow over you like a blanket of protection and surety.</span> <span data-sentence-id=\"452#5:3\"><span class=\"snr\">3</span>Let no idle and foolish thoughts enter to disturb the holy mind of the Son of God.</span> <span data-sentence-id=\"452#5:4\"><span class=\"snr\">4</span>Such is the Kingdom of Heaven.</span> <span data-sentence-id=\"452#5:5\"><span class=\"snr\">5</span>Such is the resting place where your Father has placed you forever.</span></p></div> </div>"));
    expect(l.fullTitle, "I am sustained by the Love of God.");
    expect(l.audio, "https://acim.org/audio/web-edition/bb7c705bfcbf049032b0bd2fb010f5e2.mp4");
    expect(l.link,"https://acim.org/acim/lesson-50/i-am-sustained-by-the-love-of-god/en/s/452?wid=toc" );
  });

}

